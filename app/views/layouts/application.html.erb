<!DOCTYPE html>
<html>
  <head>
    <title>Renovation Style</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= stylesheet_pack_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <link href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" rel="stylesheet">

   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Kosugi+Maru&family=Merriweather:wght@900&display=swap" rel="stylesheet">
  </head>
 <body class="min-vh-100">
    <div class="header d-flex p-1 align-items-center w-100">
       　<% if observer_signed_in? || manager_signed_in? %>
           <div class="site-logo">Renovation Style</div>
         <% else %>
           <div class="site-logo"><%= link_to "Renovation Style", root_path %></div>
         <% end %>

        <div class="header-item-list" %>
            <% if observer_signed_in? %>
               <%= link_to observer_customers_path do %>
                <i class="fa-solid fa-users size"></i> Costomers
               <% end %>
               <%= link_to observer_managers_path do %>
                <i class="fa-regular fa-building size"></i> Companies
               <% end %>
               <%= link_to observer_taste_tags_path do %>
                <i class="fa-solid fa-tags size"></i> Tastetag
               <% end %>
               <%= link_to destroy_observer_session_path, method: :delete do %>
                <i class="fa-solid fa-right-from-bracket size"></i> Log out
               <% end %>

             <% elsif manager_signed_in? %>
               <%= link_to destroy_manager_session_path, method: :delete do %>
                <i class="fa-solid fa-right-from-bracket size"></i> Log out
               <% end %>
               <%= link_to manager_enquiries_path do %>
                <i class="fa-regular fa-envelope size"></i> Enquiry
               <% end %>
               <%= link_to manager_rooms_path do %>
                <i class="fa-regular fa-pen-to-square size"></i> Post
               <% end %>
               <%= link_to manager_mypage_path do %>
                <i class="fa-regular fa-user size"></i> Mypage
               <% end %>

             <% elsif customer_signed_in? %>
               <%= link_to customer_rooms_path do %>
                <i class="fa-solid fa-magnifying-glass size"></i> Search
               <% end %>
               <%= link_to customer_favorites_path do %>
                <i class="fa-regular fa-heart size"></i> Favorite
               <% end %>
               <%= link_to customer_mypage_path do %>
                <i class="fa-regular fa-user size"></i> Mypage
               <% end %>
               <%= link_to  destroy_customer_session_path, method: :delete do %>
                <i class="fa-solid fa-right-from-bracket size"></i> Log out
               <% end %>

             <% else %>
              <% if request.fullpath.include? "/observer" %>
               <% elsif request.fullpath.include? "/manager" %>
              <% else %>
               <%= link_to customer_rooms_path do %>
                <i class="fa-solid fa-magnifying-glass size"></i> Search
               <% end %>
               <%= link_to customer_mypage_path do %>
                <i class="fa-regular fa-user size"></i> Mypage
               <% end %>

              <% end %>
             <% end %>
      </div>
    </div>
   <main class="flex-grow-1 row justify-content-center align-items-center position-relative">

     <% if flash[:alert].present? %>
       <div class="position-absolute w-100" style="top: 0;">
        <div class="alert alert-danger text-center">
          <%= flash[:alert] %>
        </div>
        </div>
      <% end %>
      <% if flash[:notice].present? %>
      <div class="position-absolute w-100" style="top: 0;">
        <div class="alert alert-success text-center">
          <%= flash[:notice] %>
        </div>
       </div>
      <% end %>

    <%= yield %>
  </main>

  <footer class="d-flex" style="justify-content: space-around">
   <div class="links">
    <%= link_to new_manager_session_path do %>
    リフォーム会社の方はこちら<i class="fa-regular fa-hand-point-up"></i>
    <% end %>
   </div>
 </footer>

 </body>
</html>
